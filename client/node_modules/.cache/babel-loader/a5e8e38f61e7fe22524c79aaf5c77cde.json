{"ast":null,"code":"import _toConsumableArray from\"/home/hajira/Documents/loginwithfirebase/reactboiler/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/hajira/Documents/loginwithfirebase/reactboiler/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{GlobalContext}from'../../context/GlobalState';import{updateService}from'../../context/services/update';import firebase from'../../firebase';export default(function(props){var history=props.history;var _useContext=useContext(GlobalContext),state=_useContext.state,getDataAction=_useContext.getDataAction,delDataAction=_useContext.delDataAction,dispatch=_useContext.dispatch;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),update=_useState2[0],setUpdate=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),id=_useState4[0],setId=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),title=_useState8[0],setTitle=_useState8[1];return/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mt-8\"},update&&/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-between m-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\" text-base mb-2 flex  font-bold w-1/4\"},\"Edit title:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"my-1 p-1  outline-none border w-1/4\",name:\"title\",placeholder:\"title\",value:title?title:\"\",onChange:function onChange(e){setTitle(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{className:\" bg-green-400 hover:bg-green-500 w-1/3 py-2 text-white w-1/4\",onClick:function onClick(){var dub=_toConsumableArray(data);var filter=dub.filter(function(single){return single.id===id;});filter[0].title=title;updateService(id,dub,dispatch);}},\"Update\")),/*#__PURE__*/React.createElement(\"button\",{className:\"my-4 bg-green-400 hover:bg-green-500 w-full py-2 text-white\",onClick:function onClick(){firebase.auth().signOut().then(function(){state.loader=true;history.push(\"/login\");});}},\"Logout\"),/*#__PURE__*/React.createElement(\"button\",{className:\"my-4 bg-green-400 hover:bg-green-500 w-full py-2 text-white\",onClick:function onClick(){return getDataAction(dispatch);}},\"getData\"),state.data.map(function(sin,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"flex justify-between m-4\"},/*#__PURE__*/React.createElement(\"p\",{key:index,className:\"text-base mb-2 flex  font-bold w-1/4\"},sin.id,\" \",sin.title),/*#__PURE__*/React.createElement(\"button\",{className:\" bg-green-400 hover:bg-green-500 w-1/3 py-2 text-white w-1/4\",onClick:function onClick(){var filter=state.data.filter(function(single){return single.id!==sin.id;});delDataAction(sin.id,filter,dispatch);}},\"del\"),/*#__PURE__*/React.createElement(\"button\",{className:\" bg-green-400 hover:bg-green-500 w-1/3 py-2 text-white w-1/4\",onClick:function onClick(){setTitle(\"\");setUpdate(true);setId(sin.id);setData(state.data);}},\"edit record\"));}))));});","map":{"version":3,"sources":["/home/hajira/Documents/loginwithfirebase/reactboiler/src/pages/homePage/homePage.tsx"],"names":["React","useContext","useState","GlobalContext","updateService","firebase","props","history","state","getDataAction","delDataAction","dispatch","update","setUpdate","id","setId","data","setData","title","setTitle","e","target","value","dub","filter","single","auth","signOut","then","loader","push","map","sin","index"],"mappings":"sRAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,QAA3B,KAA0C,OAA1C,CACA,OAAQC,aAAR,KAA4B,2BAA5B,CACA,OAAQC,aAAR,KAA4B,+BAA5B,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CACA,eAAe,SAACC,KAAD,CAAgB,IAEvBC,CAAAA,OAFuB,CAGvBD,KAHuB,CAEvBC,OAFuB,iBAIkCN,UAAU,CAACE,aAAD,CAJ5C,CAIpBK,KAJoB,aAIpBA,KAJoB,CAIbC,aAJa,aAIbA,aAJa,CAIEC,aAJF,aAIEA,aAJF,CAIiBC,QAJjB,aAIiBA,QAJjB,eAKCT,QAAQ,CAAC,KAAD,CALT,wCAKpBU,MALoB,eAKZC,SALY,8BAMPX,QAAQ,EAND,yCAMpBY,EANoB,eAMhBC,KANgB,8BAOHb,QAAQ,CAAC,EAAD,CAPL,yCAOpBc,IAPoB,eAOdC,OAPc,8BAQDf,QAAQ,CAAC,EAAD,CARP,yCAQpBgB,KARoB,eAQbC,QARa,eAU3B,mBACI,2BAAK,SAAS,CAAC,EAAf,eACI,2BAAK,SAAS,CAAC,MAAf,eACI,2BAAK,SAAS,CAAC,MAAf,EACKP,MAAM,eACP,2BAAK,SAAS,CAAC,0BAAf,eACI,6BAAO,SAAS,CAAC,uCAAjB,gBADJ,cAEI,6BACI,IAAI,CAAC,MADT,CAEI,SAAS,CAAC,qCAFd,CAGI,IAAI,CAAC,OAHT,CAII,WAAW,CAAC,OAJhB,CAKI,KAAK,CAAEM,KAAK,CAAGA,KAAH,CAAW,EAL3B,CAMI,QAAQ,CACJ,kBAACE,CAAD,CAAO,CACHD,QAAQ,CAACC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACH,CATT,EAFJ,cAeI,8BAAQ,SAAS,CAAC,8DAAlB,CACQ,OAAO,CAAE,kBAAM,CACX,GAAIC,CAAAA,GAAG,oBAAOP,IAAP,CAAP,CACA,GAAIQ,CAAAA,MAAW,CAAGD,GAAG,CAACC,MAAJ,CAAW,SAACC,MAAD,QAAiBA,CAAAA,MAAM,CAACX,EAAP,GAAcA,EAA/B,EAAX,CAAlB,CACAU,MAAM,CAAC,CAAD,CAAN,CAAUN,KAAV,CAAkBA,KAAlB,CACAd,aAAa,CAACU,EAAD,CAAKS,GAAL,CAAUZ,QAAV,CAAb,CACH,CANT,WAfJ,CAFJ,cA2BI,8BAAQ,SAAS,CAAC,6DAAlB,CACQ,OAAO,CAAE,kBAAM,CACXN,QAAQ,CAACqB,IAAT,GAAgBC,OAAhB,GAA0BC,IAA1B,CAA+B,UAAM,CACjCpB,KAAK,CAACqB,MAAN,CAAa,IAAb,CACAtB,OAAO,CAACuB,IAAR,CAAa,QAAb,EACH,CAHD,EAIH,CANT,WA3BJ,cAoCI,8BAAQ,SAAS,CAAC,6DAAlB,CAAgF,OAAO,CAAE,yBACpFrB,CAAAA,aAAa,CAACE,QAAD,CADuE,EAAzF,YApCJ,CA0CKH,KAAK,CAACQ,IAAN,CAAWe,GAAX,CAAe,SAACC,GAAD,CAAWC,KAAX,qBACZ,2BAAK,GAAG,CAAEA,KAAV,CAAiB,SAAS,CAAC,0BAA3B,eACI,yBAAG,GAAG,CAAEA,KAAR,CAAe,SAAS,CAAC,sCAAzB,EAAiED,GAAG,CAAClB,EAArE,KAA0EkB,GAAG,CAACd,KAA9E,CADJ,cAEI,8BAAQ,SAAS,CAAC,8DAAlB,CACQ,OAAO,CAAE,kBAAM,CACX,GAAIM,CAAAA,MAAM,CAAGhB,KAAK,CAACQ,IAAN,CAAWQ,MAAX,CAAkB,SAACC,MAAD,QAAiBA,CAAAA,MAAM,CAACX,EAAP,GAAckB,GAAG,CAAClB,EAAnC,EAAlB,CAAb,CACAJ,aAAa,CAACsB,GAAG,CAAClB,EAAL,CAASU,MAAT,CAAiBb,QAAjB,CAAb,CACH,CAJT,QAFJ,cASI,8BAAQ,SAAS,CAAC,8DAAlB,CACQ,OAAO,CAAE,kBAAM,CACXQ,QAAQ,CAAC,EAAD,CAAR,CACAN,SAAS,CAAC,IAAD,CAAT,CACAE,KAAK,CAACiB,GAAG,CAAClB,EAAL,CAAL,CACAG,OAAO,CAACT,KAAK,CAACQ,IAAP,CAAP,CAEH,CAPT,gBATJ,CADY,EAAf,CA1CL,CADJ,CADJ,CADJ,CAsEH,CAhFD","sourcesContent":["import React, {useContext, useState} from 'react'\nimport {GlobalContext} from '../../context/GlobalState'\nimport {updateService} from '../../context/services/update'\nimport firebase from '../../firebase'\nexport default (props: any) => {\n    let {\n        history\n    } = props;\n    const {state, getDataAction, delDataAction, dispatch}: any = useContext(GlobalContext);\n    const [update, setUpdate] = useState(false);\n    const [id, setId] = useState();\n    const [data, setData] = useState([]);\n    const [title, setTitle] = useState('');\n\n    return (\n        <div className=\"\">\n            <div className=\"py-5\">\n                <div className=\"mt-8\">\n                    {update &&\n                    <div className=\"flex justify-between m-4\">\n                        <label className=\" text-base mb-2 flex  font-bold w-1/4\">Edit title:</label>\n                        <input\n                            type=\"text\"\n                            className=\"my-1 p-1  outline-none border w-1/4\"\n                            name=\"title\"\n                            placeholder=\"title\"\n                            value={title ? title : \"\"}\n                            onChange={\n                                (e) => {\n                                    setTitle(e.target.value)\n                                }\n                            }\n                        />\n\n                        <button className=\" bg-green-400 hover:bg-green-500 w-1/3 py-2 text-white w-1/4\"\n                                onClick={() => {\n                                    let dub = [...data];\n                                    let filter: any = dub.filter((single: any) => single.id === id);\n                                    filter[0].title = title;\n                                    updateService(id, dub, dispatch)\n                                }}>Update\n                        </button>\n                    </div>\n                    }\n                    <button className=\"my-4 bg-green-400 hover:bg-green-500 w-full py-2 text-white\"\n                            onClick={() => {\n                                firebase.auth().signOut().then(() => {\n                                    state.loader=true;\n                                    history.push(\"/login\")\n                                })\n                            }}>\n                        Logout\n                    </button>\n                    <button className=\"my-4 bg-green-400 hover:bg-green-500 w-full py-2 text-white\" onClick={() =>\n                         getDataAction(dispatch)\n                        }\n\n                    >getData\n                    </button>\n                    {state.data.map((sin: any, index: number) =>\n                        <div key={index} className=\"flex justify-between m-4\">\n                            <p key={index} className=\"text-base mb-2 flex  font-bold w-1/4\">{sin.id} {sin.title}</p>\n                            <button className=\" bg-green-400 hover:bg-green-500 w-1/3 py-2 text-white w-1/4\"\n                                    onClick={() => {\n                                        let filter = state.data.filter((single: any) => single.id !== sin.id);\n                                        delDataAction(sin.id, filter, dispatch)\n                                    }}>del\n                            </button>\n\n                            <button className=\" bg-green-400 hover:bg-green-500 w-1/3 py-2 text-white w-1/4\"\n                                    onClick={() => {\n                                        setTitle(\"\")\n                                        setUpdate(true)\n                                        setId(sin.id)\n                                        setData(state.data)\n\n                                    }}>edit record\n                            </button>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}