{"ast":null,"code":"import _objectSpread from\"/home/hajira/Documents/fiver/loginwithfirebase/reactboiler/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/hajira/Documents/fiver/loginwithfirebase/reactboiler/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import firebase from'../../firebase';import{Link}from'react-router-dom';import{GlobalContext}from'../../context/GlobalState';export default(function(_ref){var history=_ref.history;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useContext=useContext(GlobalContext),state=_useContext.state;var loginHandler=function loginHandler(e){e.preventDefault();if(user===null){setError(\"email and password are required fields\");}else{if(user&&(!user.email||!user.password)){if(!user.email){setError(\"email is required fields\");}if(!user.password){setError(\"password is required fields\");}}else{firebase.auth().signInWithEmailAndPassword(user.email,user.password).then(function(){firebase.auth().onAuthStateChanged(function(){state.loader=false;history.push('/');});}).catch(function(err){setError(err.message);});}}};return/*#__PURE__*/React.createElement(\"div\",{className:\"bg-gray-200\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-20\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mt-8\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"text-3xl mb-2 text-center font-bold\"},\"Sign In\"),/*#__PURE__*/React.createElement(\"div\",{className:\"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){loginHandler(e);}},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"userEmail\",className:\"block\"},\"Email:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",className:\"my-1 p-1 w-full outline-none border\",name:\"userEmail\",placeholder:\"E.g: hajira@gmail.com\",value:user&&user.email?user.email:\"\",onChange:function onChange(e){setError(\"\");var dub=_objectSpread({},user);dub.email=e.target.value;setUser(dub);}}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"userPassword\",className:\"block\"},\"Password:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"mt-1 mb-3 p-1 w-full outline-none border\",name:\"userPassword\",value:user&&user.password?user.password:\"\",placeholder:\"Your Password\",id:\"userPassword\",onChange:function onChange(e){setError(\"\");var dub=_objectSpread({},user);dub.password=e.target.value;setUser(dub);}}),/*#__PURE__*/React.createElement(\"p\",{className:\"p-2 text-color-orange cursor-pointer font-sans text-base font-semibold not-italic text-center\"},error?error:\" \"),/*#__PURE__*/React.createElement(\"button\",{className:\"bg-green-400 hover:bg-green-500 w-full py-2 text-white\",type:\"submit\"},\"Sign in\")),/*#__PURE__*/React.createElement(\"p\",{className:\"text-center my-3\"},\"Don't have an account \",\" \",/*#__PURE__*/React.createElement(Link,{to:\"/sign-up\",className:\"text-blue-500 hover:text-blue-600\"},\"Sign up here\"))))));});","map":{"version":3,"sources":["/home/hajira/Documents/fiver/loginwithfirebase/reactboiler/src/pages/logInPage/logInPage.tsx"],"names":["React","useState","useContext","firebase","Link","GlobalContext","history","user","setUser","error","setError","state","loginHandler","e","preventDefault","email","password","auth","signInWithEmailAndPassword","then","onAuthStateChanged","loader","push","catch","err","message","dub","target","value"],"mappings":"yRAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,UAAzB,KAA0C,OAA1C,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAAQC,aAAR,KAA4B,2BAA5B,CAKA,eAAe,cAAoB,IAAlBC,CAAAA,OAAkB,MAAlBA,OAAkB,eACPL,QAAQ,CAAa,IAAb,CADD,wCACxBM,IADwB,eAClBC,OADkB,8BAELP,QAAQ,CAAC,EAAD,CAFH,yCAExBQ,KAFwB,eAEjBC,QAFiB,+BAGXR,UAAU,CAACG,aAAD,CAHC,CAGxBM,KAHwB,aAGxBA,KAHwB,CAI/B,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAY,CAC7BA,CAAC,CAACC,cAAF,GACA,GAAIP,IAAI,GAAK,IAAb,CAAmB,CACfG,QAAQ,CAAC,wCAAD,CAAR,CACH,CAFD,IAGK,CACD,GAAIH,IAAI,GAAK,CAACA,IAAI,CAACQ,KAAN,EAAe,CAACR,IAAI,CAACS,QAA1B,CAAR,CAA6C,CACzC,GAAI,CAACT,IAAI,CAACQ,KAAV,CAAiB,CACbL,QAAQ,CAAC,0BAAD,CAAR,CACH,CACD,GAAI,CAACH,IAAI,CAACS,QAAV,CAAoB,CAChBN,QAAQ,CAAC,6BAAD,CAAR,CACH,CACJ,CAPD,IAQK,CACDP,QAAQ,CAACc,IAAT,GAAgBC,0BAAhB,CAA2CX,IAAI,CAACQ,KAAhD,CAAuDR,IAAI,CAACS,QAA5D,EACKG,IADL,CACU,UAAM,CACRhB,QAAQ,CAACc,IAAT,GAAgBG,kBAAhB,CAAmC,UAAM,CACrCT,KAAK,CAACU,MAAN,CAAe,KAAf,CACAf,OAAO,CAACgB,IAAR,CAAa,GAAb,EACH,CAHD,EAIH,CANL,EAOKC,KAPL,CAOW,SAACC,GAAD,CAAS,CACZd,QAAQ,CAACc,GAAG,CAACC,OAAL,CAAR,CACH,CATL,EAUH,CAEJ,CACJ,CA5BD,CA6BA,mBACI,2BAAK,SAAS,CAAC,aAAf,eACI,2BAAK,SAAS,CAAC,OAAf,eACI,2BAAK,SAAS,CAAC,MAAf,eACI,0BAAI,SAAS,CAAC,qCAAd,YADJ,cAEI,2BAAK,SAAS,CAAC,2EAAf,eACI,4BAAM,QAAQ,CAAE,kBAACZ,CAAD,CAAO,CACnBD,YAAY,CAACC,CAAD,CAAZ,CACH,CAFD,eAGI,6BAAO,OAAO,CAAC,WAAf,CAA2B,SAAS,CAAC,OAArC,WAHJ,cAII,6BACI,IAAI,CAAC,OADT,CAEI,SAAS,CAAC,qCAFd,CAGI,IAAI,CAAC,WAHT,CAII,WAAW,CAAC,uBAJhB,CAKI,KAAK,CAAEN,IAAI,EAAIA,IAAI,CAACQ,KAAb,CAAqBR,IAAI,CAACQ,KAA1B,CAAkC,EAL7C,CAMI,QAAQ,CACJ,kBAACF,CAAD,CAAO,CACHH,QAAQ,CAAC,EAAD,CAAR,CACA,GAAIgB,CAAAA,GAAG,kBAAOnB,IAAP,CAAP,CACAmB,GAAG,CAACX,KAAJ,CAAYF,CAAC,CAACc,MAAF,CAASC,KAArB,CACApB,OAAO,CAACkB,GAAD,CAAP,CACH,CAZT,EAJJ,cAoBI,6BAAO,OAAO,CAAC,cAAf,CAA8B,SAAS,CAAC,OAAxC,cApBJ,cAuBI,6BACI,IAAI,CAAC,UADT,CAEI,SAAS,CAAC,0CAFd,CAGI,IAAI,CAAC,cAHT,CAII,KAAK,CAAEnB,IAAI,EAAIA,IAAI,CAACS,QAAb,CAAwBT,IAAI,CAACS,QAA7B,CAAwC,EAJnD,CAKI,WAAW,CAAC,eALhB,CAMI,EAAE,CAAC,cANP,CAOI,QAAQ,CACJ,kBAACH,CAAD,CAAO,CACHH,QAAQ,CAAC,EAAD,CAAR,CACA,GAAIgB,CAAAA,GAAG,kBAAOnB,IAAP,CAAP,CACAmB,GAAG,CAACV,QAAJ,CAAeH,CAAC,CAACc,MAAF,CAASC,KAAxB,CACApB,OAAO,CAACkB,GAAD,CAAP,CACH,CAbT,EAvBJ,cAwCI,yBAAG,SAAS,CAAC,+FAAb,EACKjB,KAAK,CAAGA,KAAH,CAAW,GADrB,CAxCJ,cA2CI,8BAAQ,SAAS,CAAC,wDAAlB,CAA2E,IAAI,CAAC,QAAhF,YA3CJ,CADJ,cAiDI,yBAAG,SAAS,CAAC,kBAAb,2BAAuD,GAAvD,cACI,oBAAC,IAAD,EAAM,EAAE,CAAC,UAAT,CAAoB,SAAS,CAAC,mCAA9B,iBADJ,CAjDJ,CAFJ,CADJ,CADJ,CADJ,CAiEH,CAlGD","sourcesContent":["import React, {useState, useContext} from 'react'\nimport firebase from '../../firebase'\nimport {Link} from 'react-router-dom';\nimport {GlobalContext} from '../../context/GlobalState'\ntype User = {\n    email: string | '';\n    password: string | '';\n}\nexport default ({history}: any) => {\n    const [user, setUser] = useState<User | any>(null);\n    const [error, setError] = useState('');\n    const {state}:any = useContext(GlobalContext);\n    const loginHandler = (e: any) => {\n        e.preventDefault();\n        if (user === null) {\n            setError(\"email and password are required fields\");\n        }\n        else {\n            if (user && (!user.email || !user.password)) {\n                if (!user.email) {\n                    setError(\"email is required fields\");\n                }\n                if (!user.password) {\n                    setError(\"password is required fields\");\n                }\n            }\n            else {\n                firebase.auth().signInWithEmailAndPassword(user.email, user.password)\n                    .then(() => {\n                        firebase.auth().onAuthStateChanged(() => {\n                            state.loader = false;\n                            history.push('/')\n                        });\n                    })\n                    .catch((err) => {\n                        setError(err.message);\n                    })\n            }\n\n        }\n    }\n    return (\n        <div className=\"bg-gray-200\">\n            <div className=\"py-20\">\n                <div className=\"mt-8\">\n                    <h1 className=\"text-3xl mb-2 text-center font-bold\">Sign In</h1>\n                    <div className=\"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8\">\n                        <form onSubmit={(e) => {\n                            loginHandler(e)\n                        }}>\n                            <label htmlFor=\"userEmail\" className=\"block\">Email:</label>\n                            <input\n                                type=\"email\"\n                                className=\"my-1 p-1 w-full outline-none border\"\n                                name=\"userEmail\"\n                                placeholder=\"E.g: hajira@gmail.com\"\n                                value={user && user.email ? user.email : \"\"}\n                                onChange={\n                                    (e) => {\n                                        setError(\"\");\n                                        let dub = {...user}\n                                        dub.email = e.target.value;\n                                        setUser(dub);\n                                    }\n                                }\n                            />\n\n                            <label htmlFor=\"userPassword\" className=\"block\">\n                                Password:\n                            </label>\n                            <input\n                                type=\"password\"\n                                className=\"mt-1 mb-3 p-1 w-full outline-none border\"\n                                name=\"userPassword\"\n                                value={user && user.password ? user.password : \"\"}\n                                placeholder=\"Your Password\"\n                                id=\"userPassword\"\n                                onChange={\n                                    (e) => {\n                                        setError(\"\");\n                                        let dub = {...user}\n                                        dub.password = e.target.value;\n                                        setUser(dub);\n                                    }\n                                }\n\n                            />\n                            <p className=\"p-2 text-color-orange cursor-pointer font-sans text-base font-semibold not-italic text-center\">\n                                {error ? error : \" \"}\n                            </p>\n                            <button className=\"bg-green-400 hover:bg-green-500 w-full py-2 text-white\" type=\"submit\">\n                                Sign in\n                            </button>\n                        </form>\n\n                        <p className=\"text-center my-3\">Don't have an account {\" \"}\n                            <Link to=\"/sign-up\" className=\"text-blue-500 hover:text-blue-600\">\n                                Sign up here\n                            </Link>\n                        </p>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}