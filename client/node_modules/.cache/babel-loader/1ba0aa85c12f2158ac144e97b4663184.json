{"ast":null,"code":"import _objectSpread from\"/home/hajira/Documents/loginwithfirebase/reactboiler/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/hajira/Documents/loginwithfirebase/reactboiler/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{Link}from'react-router-dom';import firebase from'../../firebase';import{GlobalContext}from'../../context/GlobalState';var SignUpPage=function SignUpPage(_ref){var history=_ref.history;var _useContext=useContext(GlobalContext),state=_useContext.state;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var signupHandler=function signupHandler(event){event.preventDefault();if(user===null){setError(\"name,email and password  are required fields\");}else{if(user&&(!user.name||!user.email||!user.password)){if(!user.name){setError(\"name is required fields\");}if(!user.email){setError(\"email is required fields\");}if(!user.password){setError(\"password is required fields\");}}else{setError(\"\");firebase.auth().createUserWithEmailAndPassword(user.email,user.password).then(function(data){var uid=data&&data.user&&data.user.uid;var userObj={fullName:user.name,email:user.email,uid:uid};firebase.firestore().collection('users').doc(uid?uid:\"\").set(userObj);state.loader=false;history.push('/');}).catch(function(error){setError(error.message);});}}};return/*#__PURE__*/React.createElement(\"div\",{className:\"mt-8\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"text-3xl mb-2 text-center font-bold\"},\"Sign Up\"),/*#__PURE__*/React.createElement(\"div\",{className:\"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8\"},/*#__PURE__*/React.createElement(\"form\",{className:\" \",onSubmit:function onSubmit(e){signupHandler(e);}},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"displayName\",className:\"block\"},\"Display Name:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"my-1 p-1 w-full outline-none border \",name:\"displayName\",placeholder:\"E.g: Username\",value:user===null||user===void 0?void 0:user.name,onChange:function onChange(e){setError(\"\");var dub=_objectSpread({},user);dub.name=e.target.value;setUser(dub);}}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"userEmail\",className:\"block\"},\"Email:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",className:\"my-1 p-1 w-full border outline-none\",name:\"userEmail\",placeholder:\"E.g: test@gmail.com\",id:\"userEmail\",value:user===null||user===void 0?void 0:user.email,onChange:function onChange(e){setError(\"\");var dub=_objectSpread({},user);dub.email=e.target.value;setUser(dub);}}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"userPassword\",className:\"block\"},\"Password:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"mt-1 mb-3 p-1 w-full outline-none border\",name:\"userPassword\",placeholder:\"Your Password\",id:\"userPassword\",value:user===null||user===void 0?void 0:user.password,onChange:function onChange(e){setError(\"\");var dub=_objectSpread({},user);dub.password=e.target.value;setUser(dub);}}),/*#__PURE__*/React.createElement(\"p\",{className:\"p-2 text-color-orange cursor-pointer font-sans text-base font-semibold not-italic text-center\"},error?error:\" \"),/*#__PURE__*/React.createElement(\"button\",{className:\"bg-green-400 hover:bg-green-500 w-full py-2 text-white \",type:\"submit\"},\"Sign up\")),/*#__PURE__*/React.createElement(\"p\",{className:\"text-center my-3\"},\"I have  account?\",\" \",/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"text-blue-500 hover:text-blue-600\"},\"Login\"))));};export default SignUpPage;","map":{"version":3,"sources":["/home/hajira/Documents/loginwithfirebase/reactboiler/src/pages/signUpPage/signUppage.tsx"],"names":["React","useState","useContext","Link","firebase","GlobalContext","SignUpPage","history","state","user","setUser","error","setError","signupHandler","event","preventDefault","name","email","password","auth","createUserWithEmailAndPassword","then","data","uid","userObj","fullName","firestore","collection","doc","set","loader","push","catch","message","e","dub","target","value"],"mappings":"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","sourcesContent":["import React, { useState ,useContext} from 'react'\nimport {Link} from 'react-router-dom';\nimport firebase from '../../firebase';\nimport {GlobalContext} from '../../context/GlobalState'\ntype User = {\n  email: string | '';\n  password: string | '';\n  name: string | '';\n}\n\nconst SignUpPage = ({history}:any) => {\n    const {state}:any = useContext(GlobalContext);\n  const [user, setUser] = useState<User | any>(null);\n  const [error, setError] = useState('');\n  const signupHandler = (event: any) => {\n    event.preventDefault();\n    if (user === null) {\n      setError(\"name,email and password  are required fields\");\n    }\n    else {\n      if (user && (!user.name || !user.email || !user.password)) {\n        if (!user.name) {\n          setError(\"name is required fields\");\n        }\n        if (!user.email) {\n          setError(\"email is required fields\");\n        }\n        if (!user.password) {\n          setError(\"password is required fields\");\n        }\n      }\n      else {\n        setError(\"\");\n        firebase.auth().createUserWithEmailAndPassword(user.email, user.password)\n          .then((data:any) => {\n            let uid = data && data.user && data.user.uid;\n            let userObj = {\n              fullName: user.name,\n              email: user.email,\n              uid\n            };\n            firebase.firestore().collection('users')\n              .doc(uid ? uid : \"\")\n              .set(userObj);\n              state.loader = false;\n               history.push('/')\n             }).catch(function (error) {\n            setError(error.message)\n          });\n      }\n    }\n  }\n\n  return (\n    <div className=\"mt-8\">\n      <h1 className=\"text-3xl mb-2 text-center font-bold\">Sign Up</h1>\n      <div className=\"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8\">\n\n        <form className=\" \" onSubmit={(e) => {\n          signupHandler(e)\n        }}>\n          <label htmlFor=\"displayName\" className=\"block\">\n            Display Name:\n          </label>\n          <input type=\"text\" className=\"my-1 p-1 w-full outline-none border \" name=\"displayName\" placeholder=\"E.g: Username\" value={user?.name}\n            onChange={\n              (e) => {\n                setError(\"\")\n                let dub = { ...user }\n                dub.name = e.target.value\n                setUser(dub);\n              }\n            }\n          />\n          <label htmlFor=\"userEmail\" className=\"block\">\n            Email:\n          </label>\n          <input type=\"email\" className=\"my-1 p-1 w-full border outline-none\" name=\"userEmail\" placeholder=\"E.g: test@gmail.com\"\n            id=\"userEmail\"\n            value={user?.email}\n            onChange={(e) => {\n              setError(\"\")\n              let dub = { ...user }\n              dub.email = e.target.value\n              setUser(dub);\n            }} />\n          <label htmlFor=\"userPassword\" className=\"block\">\n            Password:\n          </label>\n          <input\n            type=\"password\"\n            className=\"mt-1 mb-3 p-1 w-full outline-none border\"\n            name=\"userPassword\"\n\n            placeholder=\"Your Password\"\n            id=\"userPassword\"\n            value={user?.password}\n            onChange={\n              (e) => {\n                setError(\"\")\n                let dub = { ...user }\n                dub.password = e.target.value\n                setUser(dub);\n              }} />\n          <p className=\"p-2 text-color-orange cursor-pointer font-sans text-base font-semibold not-italic text-center\">\n            {error ? error : \" \"}\n          </p>\n          <button\n            className=\"bg-green-400 hover:bg-green-500 w-full py-2 text-white \" type=\"submit\" >\n            Sign up\n          </button>\n        </form> \n        <p className=\"text-center my-3\">\n         I have  account?{\" \"}\n          <Link to=\"/\" className=\"text-blue-500 hover:text-blue-600\">\n            Login\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default SignUpPage;"]},"metadata":{},"sourceType":"module"}