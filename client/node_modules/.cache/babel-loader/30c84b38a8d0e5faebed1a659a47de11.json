{"ast":null,"code":"import React,{useEffect,useContext}from\"react\";import{Route,Switch}from\"react-router-dom\";import homePage from\"../pages/homePage/homePage\";import Loader from\"../atoms/loader\";import firebase from\"../firebase\";import{GlobalContext}from\"../context/GlobalState\";import ViewDetails from\"../pages/viewDetails/detail\";export default(function(props){var history=props.history;var _useContext=useContext(GlobalContext),state=_useContext.state;console.log(\"state\",state);useEffect(function(){firebase.auth().onAuthStateChanged(function(user){if(user&&user.uid!==null){state.loader=false;state.userDetail=user&&user.uid;history.push(\"/\");}else{state.loader=false;history.push(\"/login\");}});},[state,history]);return/*#__PURE__*/React.createElement(\"div\",null,!state.loader?/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true,component:homePage}),state.userDetail&&/*#__PURE__*/React.createElement(Route,{path:\"/:id\",exact:true,component:ViewDetails})):/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",component:Loader})));});","map":{"version":3,"sources":["/home/hajira/Documents/fiver/loginwithfirebase/reactboiler/src/authentication/privateRoute.tsx"],"names":["React","useEffect","useContext","Route","Switch","homePage","Loader","firebase","GlobalContext","ViewDetails","props","history","state","console","log","auth","onAuthStateChanged","user","uid","loader","userDetail","push"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,UAA3B,KAA6C,OAA7C,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,kBAA9B,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,CACA,OAASC,aAAT,KAA8B,wBAA9B,CACA,MAAOC,CAAAA,WAAP,KAAwB,6BAAxB,CACA,eAAe,SAACC,KAAD,CAAgB,IACvBC,CAAAA,OADuB,CACXD,KADW,CACvBC,OADuB,iBAENT,UAAU,CAACM,aAAD,CAFJ,CAErBI,KAFqB,aAErBA,KAFqB,CAG7BC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBF,KAArB,EACAX,SAAS,CAAC,UAAM,CACdM,QAAQ,CAACQ,IAAT,GAAgBC,kBAAhB,CAAmC,SAACC,IAAD,CAAe,CAChD,GAAIA,IAAI,EAAIA,IAAI,CAACC,GAAL,GAAa,IAAzB,CAA+B,CAC7BN,KAAK,CAACO,MAAN,CAAe,KAAf,CACAP,KAAK,CAACQ,UAAN,CAAmBH,IAAI,EAAIA,IAAI,CAACC,GAAhC,CACAP,OAAO,CAACU,IAAR,CAAa,GAAb,EACD,CAJD,IAIO,CACLT,KAAK,CAACO,MAAN,CAAe,KAAf,CACAR,OAAO,CAACU,IAAR,CAAa,QAAb,EACD,CACF,CATD,EAUD,CAXQ,CAWN,CAACT,KAAD,CAAQD,OAAR,CAXM,CAAT,CAYA,mBACE,+BACG,CAACC,KAAK,CAACO,MAAP,cACC,oBAAC,MAAD,mBACE,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,CAAsB,SAAS,CAAEd,QAAjC,EADF,CAEGO,KAAK,CAACQ,UAAN,eACC,oBAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,KAAxB,CAAyB,SAAS,CAAEX,WAApC,EAHJ,CADD,cAQC,oBAAC,MAAD,mBACE,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,SAAS,CAAEH,MAA3B,EADF,CATJ,CADF,CAgBD,CAhCD","sourcesContent":["import React, { useEffect, useContext } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport homePage from \"../pages/homePage/homePage\";\n\nimport Loader from \"../atoms/loader\";\nimport firebase from \"../firebase\";\nimport { GlobalContext } from \"../context/GlobalState\";\nimport ViewDetails from \"../pages/viewDetails/detail\";\nexport default (props: any) => {\n  let { history } = props;\n  const { state }: any = useContext(GlobalContext);\n  console.log(\"state\", state);\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged((user: any) => {\n      if (user && user.uid !== null) {\n        state.loader = false;\n        state.userDetail = user && user.uid;\n        history.push(\"/\");\n      } else {\n        state.loader = false;\n        history.push(\"/login\");\n      }\n    });\n  }, [state, history]);\n  return (\n    <div>\n      {!state.loader ? (\n        <Switch>\n          <Route path=\"/\" exact component={homePage} />\n          {state.userDetail && (\n            <Route path=\"/:id\" exact component={ViewDetails} />\n          )}\n        </Switch>\n      ) : (\n        <Switch>\n          <Route path=\"/\" component={Loader} />\n        </Switch>\n      )}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}