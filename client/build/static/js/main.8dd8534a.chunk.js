(this.webpackJsonplearning=this.webpackJsonplearning||[]).push([[0],{39:function(e,t,a){e.exports=a(91)},44:function(e,t,a){},45:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(34),c=a.n(l),s=(a(44),a(45),a(2)),o=a(4),i=a(8),u=a(35),m=(a(46),a(48),u.initializeApp({apiKey:"AIzaSyAxFhRIJlKuILRIPgYtD5wTWfZJpAmjj0g",authDomain:"login-with-firebase-1cf4d.firebaseapp.com",projectId:"login-with-firebase-1cf4d",storageBucket:"login-with-firebase-1cf4d.appspot.com",messagingSenderId:"755284248489",appId:"1:755284248489:web:0b565b493f8c0f868066b8",measurementId:"G-X8DWLYTLBK"})),d=a(10),p=function(e,t){switch(t.type){case"GET_DATA":return Object(o.a)(Object(o.a)({},e),{},{data:t.payload});case"SET_ERROR":return Object(o.a)(Object(o.a)({},e),{},{error:t.errors});case"SET_USER":return Object(o.a)(Object(o.a)({},e),{},{loggedIn:t.payload});case"SET_LOADER":return Object(o.a)(Object(o.a)({},e),{},{loader:t.payload});default:return e}},f=function(e){var t=localStorage.getItem("logged");t&&e({type:"SET_USER",payload:t})},b=a(18),E=a.n(b),h=a(36),g="https://jsonplaceholder.typicode.com/posts",v=function(){var e=Object(h.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(g).then((function(e){return e.json()})).then((function(e){t({type:"GET_DATA",payload:e})})).catch((function(e){t({type:"SET_ERROR",errors:e})})).finally((function(){t({type:"SET_LOADER",loader:!1})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){v(e)},y=function(e,t,a){!function(e,t,a){fetch("".concat(g,"/").concat(e),{method:"DELETE"}).then((function(){return a({type:"GET_DATA",payload:t})}))}(e,t,a)},x={userDetail:"",loader:!0,data:[],error:{}},N=Object(n.createContext)(x),j=function(e){var t=e.children,a=Object(n.useReducer)(p,x),l=Object(i.a)(a,2),c=l[0],s=l[1];return r.a.createElement(N.Provider,{value:{state:c,actionsetUserDetail:f,delDataAction:y,getDataAction:w,dispatch:s,initialState:x}},t)},O=function(e){var t=e.history,a=n.useState<User|any>null,l=Object(i.a)(a,2),c=l[0],s=l[1],u=Object(n.useState)(""),p=Object(i.a)(u,2),f=p[0],b=p[1],E=Object(n.useContext)(N).state;return r.a.createElement("div",{className:"bg-gray-200"},r.a.createElement("div",{className:"py-20"},r.a.createElement("div",{className:"mt-8"},r.a.createElement("h1",{className:"text-3xl mb-2 text-center font-bold"},"Sign In"),r.a.createElement("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8"},r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),null===c?b("email and password are required fields"):!c||c.email&&c.password?m.auth().signInWithEmailAndPassword(c.email,c.password).then((function(){m.auth().onAuthStateChanged((function(){E.loader=!1,t.push("/")}))})).catch((function(e){b(e.message)})):(c.email||b("email is required fields"),c.password||b("password is required fields"))}(e)}},r.a.createElement("label",{htmlFor:"userEmail",className:"block"},"Email:"),r.a.createElement("input",{type:"email",className:"my-1 p-1 w-full outline-none border",name:"userEmail",placeholder:"E.g: hajira@gmail.com",value:c&&c.email?c.email:"",onChange:function(e){b("");var t=Object(o.a)({},c);t.email=e.target.value,s(t)}}),r.a.createElement("label",{htmlFor:"userPassword",className:"block"},"Password:"),r.a.createElement("input",{type:"password",className:"mt-1 mb-3 p-1 w-full outline-none border",name:"userPassword",value:c&&c.password?c.password:"",placeholder:"Your Password",id:"userPassword",onChange:function(e){b("");var t=Object(o.a)({},c);t.password=e.target.value,s(t)}}),r.a.createElement("p",{className:"p-2 text-color-orange cursor-pointer font-sans text-base font-semibold not-italic text-center"},f||" "),r.a.createElement("button",{className:"bg-green-400 hover:bg-green-500 w-full py-2 text-white",type:"submit"},"Sign in")),r.a.createElement("p",{className:"text-center my-3"},"Don't have an account "," ",r.a.createElement(d.b,{to:"/sign-up",className:"text-blue-500 hover:text-blue-600"},"Sign up here"))))))},S=function(e){var t=e.history,a=Object(n.useContext)(N).state,l=n.useState<User|any>null,c=Object(i.a)(l,2),s=c[0],u=c[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),b=f[0],E=f[1];return r.a.createElement("div",{className:"mt-8"},r.a.createElement("h1",{className:"text-3xl mb-2 text-center font-bold"},"Sign Up"),r.a.createElement("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8"},r.a.createElement("form",{className:" ",onSubmit:function(e){e.preventDefault(),null===s?E("name,email and password  are required fields"):!s||s.name&&s.email&&s.password?(E(""),m.auth().createUserWithEmailAndPassword(s.email,s.password).then((function(e){var n=e&&e.user&&e.user.uid,r={fullName:s.name,email:s.email,uid:n};m.firestore().collection("users").doc(n||"").set(r),a.loader=!1,t.push("/")})).catch((function(e){E(e.message)}))):(s.name||E("name is required fields"),s.email||E("email is required fields"),s.password||E("password is required fields"))}},r.a.createElement("label",{htmlFor:"displayName",className:"block"},"Display Name:"),r.a.createElement("input",{type:"text",className:"my-1 p-1 w-full outline-none border ",name:"displayName",placeholder:"E.g: Username",value:null===s||void 0===s?void 0:s.name,onChange:function(e){E("");var t=Object(o.a)({},s);t.name=e.target.value,u(t)}}),r.a.createElement("label",{htmlFor:"userEmail",className:"block"},"Email:"),r.a.createElement("input",{type:"email",className:"my-1 p-1 w-full border outline-none",name:"userEmail",placeholder:"E.g: test@gmail.com",id:"userEmail",value:null===s||void 0===s?void 0:s.email,onChange:function(e){E("");var t=Object(o.a)({},s);t.email=e.target.value,u(t)}}),r.a.createElement("label",{htmlFor:"userPassword",className:"block"},"Password:"),r.a.createElement("input",{type:"password",className:"mt-1 mb-3 p-1 w-full outline-none border",name:"userPassword",placeholder:"Your Password",id:"userPassword",value:null===s||void 0===s?void 0:s.password,onChange:function(e){E("");var t=Object(o.a)({},s);t.password=e.target.value,u(t)}}),r.a.createElement("p",{className:"p-2 text-color-orange cursor-pointer font-sans text-base font-semibold not-italic text-center"},b||" "),r.a.createElement("button",{className:"bg-green-400 hover:bg-green-500 w-full py-2 text-white ",type:"submit"},"Sign up")),r.a.createElement("p",{className:"text-center my-3"},"I have  account?"," ",r.a.createElement(d.b,{to:"/",className:"text-blue-500 hover:text-blue-600"},"Login"))))},D=a(14),A=a.n(D),I=function(e){return r.a.createElement("header",{className:"flex justify-between bg-green-300 py-6 "},r.a.createElement("div",null,r.a.createElement("h1",{className:""}," ")),r.a.createElement("div",null,r.a.createElement("h1",{className:"text-white font-bold text-xlg"}," User Details")),r.a.createElement("div",{className:"mx-12"},null===e||void 0===e?void 0:e.children))},P=function(e){var t=e.history,a=Object(n.useContext)(N).state,l=Object(n.useState)([]),c=Object(i.a)(l,2),s=c[0],o=c[1];return Object(n.useEffect)((function(){A.a.get("/api").then((function(e){o(e.data)}))}),[]),r.a.createElement("div",{className:""},r.a.createElement(I,null,r.a.createElement("button",{className:"p-8 bg-green-500 hover:bg-gren-300 w-full py-2 text-white",onClick:function(){m.auth().signOut().then((function(){a.loader=!0,t.push("/login")}))}},"Logout")),r.a.createElement("div",{className:"py-5"},r.a.createElement("div",{className:"mt-8"},s.map((function(t,a){return r.a.createElement("div",{key:a,className:"flex justify-between m-4"},r.a.createElement("p",{key:a,className:"text-base mb-2 flex  font-bold w-1/4"},t.id," ",t.title),r.a.createElement("button",{className:" bg-green-400 hover:bg-green-500 w-1/3 py-2 text-white w-1/4",onClick:function(){e.history.push("/".concat(t.id))}},"View Details"))})))))},T=a(38),C=a.n(T),k=function(){return r.a.createElement("div",{className:"flex justify-center items-center h-screen"},r.a.createElement(C.a,{type:"Puff",color:"#00BFFF",height:100,width:100}))},R=function(e){var t=Object(n.useState)({id:"",title:"",body:""}),a=Object(i.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){A.a.get("/api/").then((function(t){c(t.data.find((function(t){return t.id===parseInt(e.match.params.id)})))}))}),[e.match.params.id]),r.a.createElement("div",{className:""},r.a.createElement(I,null,r.a.createElement("div",null)),r.a.createElement("div",{className:"py-5"},"user Detail"),r.a.createElement("p",null,"userId: ",l.id),r.a.createElement("p",null,"title: ",l.title),r.a.createElement("p",null,"body: ",l.body))},F=function(e){var t=e.history,a=Object(n.useContext)(N).state;return console.log("state",a),Object(n.useEffect)((function(){m.auth().onAuthStateChanged((function(e){e&&null!==e.uid?(a.loader=!1,a.userDetail=e&&e.uid,t.push("/")):(a.loader=!1,t.push("/login"))}))}),[a,t]),r.a.createElement("div",null,a.loader?r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",component:k})):r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:P}),a.userDetail&&r.a.createElement(s.a,{path:"/:id",exact:!0,component:R})))},U=Object(s.f)((function(){return r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/login",exact:!0,component:O}),r.a.createElement(s.a,{path:"/sign-up",exact:!0,component:S}),r.a.createElement(s.a,{path:"/",component:F}))}));var _=function(){return r.a.createElement(j,null,r.a.createElement(d.a,null,r.a.createElement(U,null)))};c.a.render(r.a.createElement(_,null),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.8dd8534a.chunk.js.map