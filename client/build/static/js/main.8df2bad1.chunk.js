(this.webpackJsonplearning=this.webpackJsonplearning||[]).push([[0],{37:function(e,t,a){e.exports=a(89)},42:function(e,t,a){},43:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),c=a.n(l),o=(a(42),a(43),a(2)),s=a(6),i=a(5),u=a(33),m=(a(44),a(46),u.initializeApp({apiKey:"AIzaSyAxFhRIJlKuILRIPgYtD5wTWfZJpAmjj0g",authDomain:"login-with-firebase-1cf4d.firebaseapp.com",projectId:"login-with-firebase-1cf4d",storageBucket:"login-with-firebase-1cf4d.appspot.com",messagingSenderId:"755284248489",appId:"1:755284248489:web:0b565b493f8c0f868066b8",measurementId:"G-X8DWLYTLBK"})),d=a(8),p=function(e,t){switch(t.type){case"GET_DATA":return Object(s.a)({},e,{data:t.payload});case"SET_ERROR":return Object(s.a)({},e,{error:t.errors});case"SET_USER":return Object(s.a)({},e,{loggedIn:t.payload});case"SET_LOADER":return Object(s.a)({},e,{loader:t.payload});default:return e}},f=function(e){var t=localStorage.getItem("logged");t&&e({type:"SET_USER",payload:t})},b=a(15),h=a.n(b),E=a(34),g="https://jsonplaceholder.typicode.com/posts",w=function(){var e=Object(E.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(g).then((function(e){return e.json()})).then((function(e){t({type:"GET_DATA",payload:e})})).catch((function(e){t({type:"SET_ERROR",errors:e})})).finally((function(){t({type:"SET_LOADER",loader:!1})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){w(e)},y=function(e,t,a){!function(e,t,a){fetch("".concat(g,"/").concat(e),{method:"DELETE"}).then((function(){return a({type:"GET_DATA",payload:t})}))}(e,t,a)},x={userDetail:"",loader:!0,data:[],error:{}},N=Object(n.createContext)(x),j=function(e){var t=e.children,a=Object(n.useReducer)(p,x),l=Object(i.a)(a,2),c=l[0],o=l[1];return r.a.createElement(N.Provider,{value:{state:c,actionsetUserDetail:f,delDataAction:y,getDataAction:v,dispatch:o,initialState:x}},t)},O=function(e){var t=e.history,a=Object(n.useState)(null),l=Object(i.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(""),p=Object(i.a)(u,2),f=p[0],b=p[1],h=Object(n.useContext)(N).state;return r.a.createElement("div",{className:"bg-gray-200"},r.a.createElement("div",{className:"py-20"},r.a.createElement("div",{className:"mt-8"},r.a.createElement("h1",{className:"text-3xl mb-2 text-center font-bold"},"Sign In"),r.a.createElement("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8"},r.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),null===c?b("email and password are required fields"):!c||c.email&&c.password?m.auth().signInWithEmailAndPassword(c.email,c.password).then((function(){m.auth().onAuthStateChanged((function(){h.loader=!1,t.push("/")}))})).catch((function(e){b(e.message)})):(c.email||b("email is required fields"),c.password||b("password is required fields"))}(e)}},r.a.createElement("label",{htmlFor:"userEmail",className:"block"},"Email:"),r.a.createElement("input",{type:"email",className:"my-1 p-1 w-full outline-none border",name:"userEmail",placeholder:"E.g: hajira@gmail.com",value:c&&c.email?c.email:"",onChange:function(e){b("");var t=Object(s.a)({},c);t.email=e.target.value,o(t)}}),r.a.createElement("label",{htmlFor:"userPassword",className:"block"},"Password:"),r.a.createElement("input",{type:"password",className:"mt-1 mb-3 p-1 w-full outline-none border",name:"userPassword",value:c&&c.password?c.password:"",placeholder:"Your Password",id:"userPassword",onChange:function(e){b("");var t=Object(s.a)({},c);t.password=e.target.value,o(t)}}),r.a.createElement("p",{className:"p-2 text-color-orange cursor-pointer font-sans text-base font-semibold not-italic text-center"},f||" "),r.a.createElement("button",{className:"bg-green-400 hover:bg-green-500 w-full py-2 text-white",type:"submit"},"Sign in")),r.a.createElement("p",{className:"text-center my-3"},"Don't have an account "," ",r.a.createElement(d.b,{to:"/sign-up",className:"text-blue-500 hover:text-blue-600"},"Sign up here"))))))},S=function(e){var t=e.history,a=Object(n.useContext)(N).state,l=Object(n.useState)(null),c=Object(i.a)(l,2),o=c[0],u=c[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),b=f[0],h=f[1];return r.a.createElement("div",{className:"mt-8"},r.a.createElement("h1",{className:"text-3xl mb-2 text-center font-bold"},"Sign Up"),r.a.createElement("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8"},r.a.createElement("form",{className:" ",onSubmit:function(e){e.preventDefault(),null===o?h("name,email and password  are required fields"):!o||o.name&&o.email&&o.password?(h(""),m.auth().createUserWithEmailAndPassword(o.email,o.password).then((function(e){var n=e&&e.user&&e.user.uid,r={fullName:o.name,email:o.email,uid:n};m.firestore().collection("users").doc(n||"").set(r),a.loader=!1,t.push("/")})).catch((function(e){h(e.message)}))):(o.name||h("name is required fields"),o.email||h("email is required fields"),o.password||h("password is required fields"))}},r.a.createElement("label",{htmlFor:"displayName",className:"block"},"Display Name:"),r.a.createElement("input",{type:"text",className:"my-1 p-1 w-full outline-none border ",name:"displayName",placeholder:"E.g: Username",value:null===o||void 0===o?void 0:o.name,onChange:function(e){h("");var t=Object(s.a)({},o);t.name=e.target.value,u(t)}}),r.a.createElement("label",{htmlFor:"userEmail",className:"block"},"Email:"),r.a.createElement("input",{type:"email",className:"my-1 p-1 w-full border outline-none",name:"userEmail",placeholder:"E.g: test@gmail.com",id:"userEmail",value:null===o||void 0===o?void 0:o.email,onChange:function(e){h("");var t=Object(s.a)({},o);t.email=e.target.value,u(t)}}),r.a.createElement("label",{htmlFor:"userPassword",className:"block"},"Password:"),r.a.createElement("input",{type:"password",className:"mt-1 mb-3 p-1 w-full outline-none border",name:"userPassword",placeholder:"Your Password",id:"userPassword",value:null===o||void 0===o?void 0:o.password,onChange:function(e){h("");var t=Object(s.a)({},o);t.password=e.target.value,u(t)}}),r.a.createElement("p",{className:"p-2 text-color-orange cursor-pointer font-sans text-base font-semibold not-italic text-center"},b||" "),r.a.createElement("button",{className:"bg-green-400 hover:bg-green-500 w-full py-2 text-white ",type:"submit"},"Sign up")),r.a.createElement("p",{className:"text-center my-3"},"I have  account?"," ",r.a.createElement(d.b,{to:"/",className:"text-blue-500 hover:text-blue-600"},"Login"))))},D=a(11),A=a.n(D),I=function(e){var t=e.history,a=Object(n.useContext)(N),l=a.state,c=a.getDataAction,o=a.dispatch,s=Object(n.useState)([]),u=Object(i.a)(s,2),d=u[0],p=u[1];return Object(n.useEffect)((function(){A.a.get("/api").then((function(e){p(e.data)}))}),[]),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"py-5"},r.a.createElement("div",{className:"mt-8"},r.a.createElement("button",{className:"my-4 bg-green-400 hover:bg-green-500 w-full py-2 text-white",onClick:function(){m.auth().signOut().then((function(){l.loader=!0,t.push("/login")}))}},"Logout"),r.a.createElement("button",{className:"my-4 bg-green-400 hover:bg-green-500 w-full py-2 text-white",onClick:function(){return c(o)}},"getData"),d.map((function(t,a){return r.a.createElement("div",{key:a,className:"flex justify-between m-4"},r.a.createElement("p",{key:a,className:"text-base mb-2 flex  font-bold w-1/4"},t.id," ",t.title),r.a.createElement("button",{className:" bg-green-400 hover:bg-green-500 w-1/3 py-2 text-white w-1/4",onClick:function(){e.history.push("/".concat(t.id))}},"View Details"))})))))},C=a(36),P=a.n(C),T=function(){return r.a.createElement("div",{className:"flex justify-center items-center h-screen"},r.a.createElement(P.a,{type:"Puff",color:"#00BFFF",height:100,width:100}))},k=function(e){var t=Object(n.useState)({id:"",title:"",body:""}),a=Object(i.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){A.a.get(g).then((function(t){c(t.data.find((function(t){return t.id===parseInt(e.match.params.id)})))}))}),[e.match.params.id]),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"py-5"},"user Detail"),r.a.createElement("p",null,"userId: ",l.id),r.a.createElement("p",null,"title: ",l.title),r.a.createElement("p",null,"body: ",l.body))},R=function(e){var t=e.history,a=Object(n.useContext)(N).state;return console.log("state",a),Object(n.useEffect)((function(){m.auth().onAuthStateChanged((function(e){e&&null!==e.uid?(a.loader=!1,a.userDetail=e&&e.uid,t.push("/")):(a.loader=!1,t.push("/login"))}))}),[a,t]),r.a.createElement("div",null,a.loader?r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",component:T})):r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:I}),a.userDetail&&r.a.createElement(o.a,{path:"/:id",exact:!0,component:k})))},F=Object(o.f)((function(){return r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/login",exact:!0,component:O}),r.a.createElement(o.a,{path:"/sign-up",exact:!0,component:S}),r.a.createElement(o.a,{path:"/",component:R}))}));var _=function(){return r.a.createElement(j,null,r.a.createElement(d.a,null,r.a.createElement(F,null)))};c.a.render(r.a.createElement(_,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.8df2bad1.chunk.js.map