(this.webpackJsonplearning=this.webpackJsonplearning||[]).push([[0],{39:function(e,t,a){e.exports=a(91)},44:function(e,t,a){},45:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(34),c=a.n(r),s=(a(44),a(45),a(2)),o=a(4),i=a(8),u=a(35),m=(a(46),a(48),u.initializeApp({apiKey:"AIzaSyAxFhRIJlKuILRIPgYtD5wTWfZJpAmjj0g",authDomain:"login-with-firebase-1cf4d.firebaseapp.com",projectId:"login-with-firebase-1cf4d",storageBucket:"login-with-firebase-1cf4d.appspot.com",messagingSenderId:"755284248489",appId:"1:755284248489:web:0b565b493f8c0f868066b8",measurementId:"G-X8DWLYTLBK"})),d=a(10),p=function(e,t){switch(t.type){case"GET_DATA":return Object(o.a)(Object(o.a)({},e),{},{data:t.payload});case"SET_ERROR":return Object(o.a)(Object(o.a)({},e),{},{error:t.errors});case"SET_USER":return Object(o.a)(Object(o.a)({},e),{},{loggedIn:t.payload});case"SET_LOADER":return Object(o.a)(Object(o.a)({},e),{},{loader:t.payload});default:return e}},f=function(e){var t=localStorage.getItem("logged");t&&e({type:"SET_USER",payload:t})},b=a(18),E=a.n(b),h=a(36),g="https://jsonplaceholder.typicode.com/posts",v=function(){var e=Object(h.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(g).then((function(e){return e.json()})).then((function(e){t({type:"GET_DATA",payload:e})})).catch((function(e){t({type:"SET_ERROR",errors:e})})).finally((function(){t({type:"SET_LOADER",loader:!1})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){v(e)},y=function(e,t,a){!function(e,t,a){fetch("".concat(g,"/").concat(e),{method:"DELETE"}).then((function(){return a({type:"GET_DATA",payload:t})}))}(e,t,a)},x={userDetail:"",loader:!0,data:[],error:{}},j=Object(n.createContext)(x),N=function(e){var t=e.children,a=Object(n.useReducer)(p,x),r=Object(i.a)(a,2),c=r[0],s=r[1];return l.a.createElement(j.Provider,{value:{state:c,actionsetUserDetail:f,delDataAction:y,getDataAction:w,dispatch:s,initialState:x}},t)},O=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),p=u[0],f=u[1],b=Object(n.useContext)(j);return l.a.createElement("div",{className:"bg-gray-200"},l.a.createElement("div",{className:"py-20"},l.a.createElement("div",{className:"mt-8"},l.a.createElement("h1",{className:"text-3xl mb-2 text-center font-bold"},"Sign In"),l.a.createElement("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8"},l.a.createElement("form",{onSubmit:function(t){!function(t){t.preventDefault(),null===r?f("email and password are required fields"):!r||r.email&&r.password?m.auth().signInWithEmailAndPassword(r.email,r.password).then((function(){m.auth().onAuthStateChanged((function(){b.loader=!1,e.push("/")}))})).catch((function(e){f(e.message)})):(r.email||f("email is required fields"),r.password||f("password is required fields"))}(t)}},l.a.createElement("label",{htmlFor:"userEmail",className:"block"},"Email:"),l.a.createElement("input",{type:"email",className:"my-1 p-1 w-full outline-none border",name:"userEmail",placeholder:"E.g: hajira@gmail.com",value:r&&r.email?r.email:"",onChange:function(e){f("");var t=Object(o.a)({},r);t.email=e.target.value,c(t)}}),l.a.createElement("label",{htmlFor:"userPassword",className:"block"},"Password:"),l.a.createElement("input",{type:"password",className:"mt-1 mb-3 p-1 w-full outline-none border",name:"userPassword",value:r&&r.password?r.password:"",placeholder:"Your Password",id:"userPassword",onChange:function(e){f("");var t=Object(o.a)({},r);t.password=e.target.value,c(t)}}),l.a.createElement("p",{className:"p-2 text-color-orange cursor-pointer font-sans text-base font-semibold not-italic text-center"},p||" "),l.a.createElement("button",{className:"bg-green-400 hover:bg-green-500 w-full py-2 text-white",type:"submit"},"Sign in")),l.a.createElement("p",{className:"text-center my-3"},"Don't have an account"," ",l.a.createElement(d.b,{to:"/sign-up",className:"text-blue-500 hover:text-blue-600"},"Sign up here"))))))},S=function(e){var t=e.history,a=Object(n.useContext)(j).state,r=n.useState<User|any>null,c=Object(i.a)(r,2),s=c[0],u=c[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),b=f[0],E=f[1];return l.a.createElement("div",{className:"mt-8"},l.a.createElement("h1",{className:"text-3xl mb-2 text-center font-bold"},"Sign Up"),l.a.createElement("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8"},l.a.createElement("form",{className:" ",onSubmit:function(e){e.preventDefault(),null===s?E("name,email and password  are required fields"):!s||s.name&&s.email&&s.password?(E(""),m.auth().createUserWithEmailAndPassword(s.email,s.password).then((function(e){var n=e&&e.user&&e.user.uid,l={fullName:s.name,email:s.email,uid:n};m.firestore().collection("users").doc(n||"").set(l),a.loader=!1,t.push("/")})).catch((function(e){E(e.message)}))):(s.name||E("name is required fields"),s.email||E("email is required fields"),s.password||E("password is required fields"))}},l.a.createElement("label",{htmlFor:"displayName",className:"block"},"Display Name:"),l.a.createElement("input",{type:"text",className:"my-1 p-1 w-full outline-none border ",name:"displayName",placeholder:"E.g: Username",value:null===s||void 0===s?void 0:s.name,onChange:function(e){E("");var t=Object(o.a)({},s);t.name=e.target.value,u(t)}}),l.a.createElement("label",{htmlFor:"userEmail",className:"block"},"Email:"),l.a.createElement("input",{type:"email",className:"my-1 p-1 w-full border outline-none",name:"userEmail",placeholder:"E.g: test@gmail.com",id:"userEmail",value:null===s||void 0===s?void 0:s.email,onChange:function(e){E("");var t=Object(o.a)({},s);t.email=e.target.value,u(t)}}),l.a.createElement("label",{htmlFor:"userPassword",className:"block"},"Password:"),l.a.createElement("input",{type:"password",className:"mt-1 mb-3 p-1 w-full outline-none border",name:"userPassword",placeholder:"Your Password",id:"userPassword",value:null===s||void 0===s?void 0:s.password,onChange:function(e){E("");var t=Object(o.a)({},s);t.password=e.target.value,u(t)}}),l.a.createElement("p",{className:"p-2 text-color-orange cursor-pointer font-sans text-base font-semibold not-italic text-center"},b||" "),l.a.createElement("button",{className:"bg-green-400 hover:bg-green-500 w-full py-2 text-white ",type:"submit"},"Sign up")),l.a.createElement("p",{className:"text-center my-3"},"I have  account?"," ",l.a.createElement(d.b,{to:"/",className:"text-blue-500 hover:text-blue-600"},"Login"))))},D=a(14),A=a.n(D),I=function(e){return l.a.createElement("header",{className:"flex justify-between bg-green-300 py-6 "},l.a.createElement("div",null,l.a.createElement("h1",{className:""}," ")),l.a.createElement("div",null,l.a.createElement("h1",{className:"text-white font-bold text-xlg"}," User Details")),l.a.createElement("div",{className:"mx-12"},null===e||void 0===e?void 0:e.children))},P=a(38),T=a.n(P),C=function(){return l.a.createElement("div",{className:"flex justify-center items-center h-screen"},l.a.createElement(T.a,{type:"Puff",color:"#00BFFF",height:100,width:100}))},k=function(e){var t=e.history,a=Object(n.useContext)(j),r=Object(n.useState)(null),c=Object(i.a)(r,2),s=c[0],o=c[1];return Object(n.useEffect)((function(){A.a.get("/api").then((function(e){o(e.data)}))}),[]),l.a.createElement("div",{className:""},l.a.createElement(I,null,l.a.createElement("button",{className:"p-8 bg-green-500 hover:bg-gren-300 w-full py-2 text-white",onClick:function(){m.auth().signOut().then((function(){a.loader=!0,t.push("/login")}))}},"Logout")),l.a.createElement("div",{className:"py-5"},l.a.createElement("div",{className:"mt-8"},s?l.a.createElement("div",null,s.map((function(t,a){return l.a.createElement("div",{key:a,className:"flex justify-between m-4"},l.a.createElement("p",{key:a,className:"text-base mb-2 flex  font-bold w-1/4"},t.id," ",t.title),l.a.createElement("button",{className:" bg-green-400 hover:bg-green-500 w-1/3 py-2 text-white w-1/4",onClick:function(){e.history.push("/".concat(t.id))}},"View Details"))}))):l.a.createElement(C,null))))},R=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){A.a.get("/api/").then((function(t){c(t.data.find((function(t){return t.id===parseInt(e.match.params.id)})))}))}),[e.match.params.id]),l.a.createElement("div",{className:""},l.a.createElement(I,null,l.a.createElement("div",null)),r?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"py-5"},"user Detail"),l.a.createElement("p",null,"userId: ",r.id),l.a.createElement("p",null,"title: ",r.title),l.a.createElement("p",null,"body: ",r.body)):l.a.createElement(C,null))},F=function(e){var t=e.history,a=Object(n.useContext)(j);return Object(n.useEffect)((function(){m.auth().onAuthStateChanged((function(e){e&&null!==e.uid?(a.loader=!1,a.userDetail=e&&e.uid,t.push("/")):(a.loader=!1,t.push("/login"))}))}),[a,t]),l.a.createElement("div",null,a.loader?l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/",component:C})):l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/",exact:!0,component:k}),a.userDetail&&l.a.createElement(s.a,{path:"/:id",exact:!0,component:R})))},_=Object(s.f)((function(){return l.a.createElement(s.c,null,l.a.createElement(s.a,{path:"/login",exact:!0,component:O}),l.a.createElement(s.a,{path:"/sign-up",exact:!0,component:S}),l.a.createElement(s.a,{path:"/",component:F}))}));var L=function(){return l.a.createElement(N,null,l.a.createElement(d.a,null,l.a.createElement(_,null)))};c.a.render(l.a.createElement(L,null),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.20e2a573.chunk.js.map